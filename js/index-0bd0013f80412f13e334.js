(self.webpackChunkwebpack_starter=self.webpackChunkwebpack_starter||[]).push([[826],{"32c1ba98ca59567de60e":(e,n,a)=>{e.exports=a.p+"assets/images/logo-3fda612a5dcc621924444239fc99f59e.svg"},"2ef94f450b043d8e9375":(e,n,a)=>{"use strict";var t=a("82d8eefb58430341f555"),l=a("b641633d6c906d199e02"),s=a("99c472be6da179221b13"),o=a("32c1ba98ca59567de60e"),i=a.n(o);const r=(0,l._)("div",{class:"generator no-print"},[(0,l._)("div",{class:"hints"},[(0,l._)("p",null,[(0,l._)("span",null,"❗"),(0,l.Uk)("Данные нужно вводить прям на визитке")])])],-1),c={class:"card card--front"},d={class:"card-persona"},p={class:"card-persona__fio"},u={for:"business-card-post"},m=(0,l._)("span",null,"Должность",-1),h=(0,l._)("img",{class:"logo-company",src:i(),alt:"логотип"},null,-1),f={class:"card-contacts"},b=(0,l.Uk)("  (доб.  "),w=(0,l.Uk)(") "),g=(0,l._)("div",null,[(0,l._)("p",null,[(0,l._)("span",null,"pr-liz.ru")]),(0,l._)("p",null,[(0,l._)("span",null,"8(800) 250-25-31")]),(0,l._)("p",null,[(0,l._)("span",null,"prleasing/"),(0,l.Uk)(" — telegram, youtube,")]),(0,l._)("p",null,"vkontakte, facebook, instagram")],-1),v=(0,l._)("ul",{class:"no-print footnote"},[(0,l._)("li",null,[(0,l.Uk)(" Формат адреса "),(0,l._)("b",null,"город, улица, дом/корпус, дополнительные данные "),(0,l._)("br"),(0,l.Uk)("Пример: "),(0,l._)("code",null,"г. Уфа, ул. Карла Маркса, 15/2, офис 1")])],-1),y={class:"card card--back"},k={class:"qr"},x=["src"],_=(0,l.uE)('<div><h2>Взять в ПР-Лизинг</h2><div class="leasing-categories"><ul><li><label class="custom-checkbox"><input type="checkbox" checked><span>Грузовой транспорт</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Легковой транспорт</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Недвижимость</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Оборудование</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Спецтехника</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Cуда</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Подвижной состав</span></label></li><li><label class="custom-checkbox"><input type="checkbox"><span>Сельхозтехника и скот</span></label></li></ul><div class="new-category"><div class="new-category__icon"><svg width="3mm" height="3mm" viewBox="0 0 2 2" fill="none" xmlns="http://www.w3.org/2000/svg">\x3c!-- eslint-disable max-len --\x3e<path d="M0.21875 0.919616C0.21875 0.853355 0.272465 0.79964 0.338726 0.79964H1.89841C1.96467 0.79964 2.01839 0.853355 2.01839 0.919616C2.01839 0.985877 1.96467 1.03959 1.89841 1.03959H0.338726C0.272465 1.03959 0.21875 0.985877 0.21875 0.919616Z" fill="#403E4B"></path><path d="M1.11802 1.82308C1.05176 1.82308 0.998047 1.76936 0.998047 1.7031L0.998047 0.143414C0.998047 0.0771526 1.05176 0.0234375 1.11802 0.0234375C1.18428 0.0234375 1.238 0.0771526 1.238 0.143414V1.7031C1.238 1.76936 1.18428 1.82308 1.11802 1.82308Z" fill="#403E4B"></path>\x3c!-- eslint-enable max-len --\x3e</svg></div><span class="new-category__title">Новый пункт</span></div></div></div>',1),V=["disabled"];var C=a("a54fa6d0a722ba3f04c5"),$=a("1f367841066566a6f8d7"),S=a.n($),E=a("2745d39c4812a9ff6886");var U=a("5360fbf3a686361f9a03"),H=a("45217fd55e25a59b14fa"),Z=a("25acef809fcacbd11923"),z=a("69478d37cc070dac30ae"),A=a("337bc4b9fe0532ddf821"),B=a("1b6a45b3eab92e8f2445"),N=a("2190a885655ea6d1bc56"),W=a("8d7c4fce499bbb5efb77"),D=a("71c08fb42c084758fa6d"),L=a("2928c8936d74fecd93b4"),T=a("cb2fb2d26f6fc89c9982"),O=a("cde7f62cdf0c46cbea4c"),F=a("9de6af1f7604bec2a12b"),I=a("49b7f3d55b7bf1fb9887"),K=a("a499769908c8f0c91250"),P=a("06935dc7679545f38afa"),R=a("8a43964d3d84fc212b01"),Y=a("95854d4ff1bfb5d38de2");const q=["value","placeholder"];var M=a("df2ecbf420203f2bc541"),j=a("260f3680b921ede7f717"),J=a.n(j);const G=(0,l.aZ)({name:"TextFieldAutosize",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},mask:{type:Object,default:null}},emits:["update:modelValue"],setup(e,{emit:n}){const a=(0,C.iH)(e.modelValue),t=(0,C.iH)(void 0);let s;async function o(){if(void 0!==t.value){const{font:n,height:a,padding:l,border:s,lineHeight:o,fontFamily:i}=window.getComputedStyle(t.value),r=document.createElement("div"),c=t.value.value.length<1?`${e.placeholder}`:t.value.value;r.innerHTML=c.replace(/\s/g,">"),await new(J())(i.split(",")[0]).load(),Object.assign(r.style,{font:n,height:a,padding:l,border:s,lineHeight:o,display:"inline"}),document.body.append(r);const{width:d}=r.getBoundingClientRect();r.remove(),t.value.style.width=`${d}px`}}return(0,l.bv)((()=>{o(),e.mask&&t.value&&(s=(0,M.ZP)(t.value,e.mask),s.on("accept",(()=>{o(),n("update:modelValue",s?.value)})))})),(0,l.YP)((()=>e.modelValue),(()=>{a.value=e.modelValue})),(0,l.Jd)((()=>{void 0!==s&&s.destroy()})),{fieldValue:a,input:t}}});var Q=a("461bee8a7784aa7fd7da");const X=(0,Q.Z)(G,[["render",function(e){return(0,l.wg)(),(0,l.iD)("input",(0,l.dG)(e.$attrs,{ref:"input",value:e.fieldValue,placeholder:e.placeholder}),null,16,q)}]]),ee=["innerHTML"];const ne=(0,l.aZ)({name:"TextareaAutosize",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:n}){const a=(0,C.iH)(e.modelValue),t=(0,C.iH)(void 0);function s(){void 0!==t.value&&(t.value.style.height="auto",t.value.style.height=`${t.value.scrollHeight}px`)}return(0,l.bv)((()=>{s()})),(0,l.YP)((()=>e.modelValue),(()=>{a.value=e.modelValue})),{textareaValue:a,setValue:function(e){const t=e.target;a.value=t.value,n("update:modelValue",t.value),s()},textarea:t}}}),ae=(0,Q.Z)(ne,[["render",function(e,n){return(0,l.wg)(),(0,l.iD)("textarea",(0,l.dG)(e.$attrs,{ref:"textarea",rows:"1",wrap:"hard",onInput:n[0]||(n[0]=(...n)=>e.setValue&&e.setValue(...n)),onKeydown:n[1]||(n[1]=(...n)=>e.setValue&&e.setValue(...n)),innerHTML:e.textareaValue}),null,16,ee)}]]);var te=a("efe7582f874598a5689d");const le=(0,l.aZ)({name:"ServiceWorker",setup(){let e;function n(){navigator.serviceWorker.addEventListener("controllerchange",(()=>{window.location.reload()})),e&&e.waiting&&e.waiting.postMessage("SKIP_WAITING"),S().close()}async function a(){await S().fire({icon:"question",text:"Мы только что обновили версию приложения! Чтобы получить обновления, нажмите на кнопку ниже",cancelButtonText:"Отмена",confirmButtonText:"Обновить"})&&n()}(0,l.bv)((async()=>{{const n=new te.ZW("/business-card/sw.js");e=await n.register(),window.sw=await n.getSW(),e&&(e.waiting&&a(),e.addEventListener("updatefound",(()=>{e&&e.installing&&e.installing.addEventListener("statechange",(()=>{e&&e.waiting&&navigator.serviceWorker.controller&&a()}))})))}}))}}),se=(0,l.aZ)({components:{ServiceWorker:le,TextFieldAutosize:X,TextareaAutosize:ae},setup(){const e=(0,C.qj)(function(){let e={fio:{firstname:"",name:"",middleName:""},post:"",addresses:[""],phones:[{phone:"8 (800) 250-25-31",extension:""}],email:""};if(window.localStorage)try{e={...e,...JSON.parse(localStorage.getItem("business-card")??"{}")}}catch(e){}return e}());const n=(0,l.Fl)((()=>{const{firstname:n,name:a,middleName:t}=e.fio,l=e.phones.filter((e=>e.phone.length>0)).map((({phone:e,extension:n})=>{let a=e;return n.length>0&&(a+=`;${n}`),a})),s=e.addresses.filter((e=>e.length>0));return function(e){const{firstname:n,name:a,middleName:t}=e,l=[n,a,t].join(" "),s=new U.w([],new H.y(l)),o=new Array(5);void 0!==n&&(o[0]=new H.y(n)),void 0!==a&&(o[1]=new H.y(a)),void 0!==t&&(o[2]=new H.y(t));const i=new Z._([],new z.t(o,"nproperty")),r=new A.u([new B.B(new N.F(2))],new W.o("ru")),c=new D.a([new L.l(new H.y("work"),"urlproperty")],new T.h("https://pr-liz.ru")),d=[s,r,i,new O.D([new L.l(new H.y("work"),"orgproperty")],new z.t([new H.y('Лизинговая компания "ПР-Лизинг"')],"orgproperty")),c];if(void 0!==e.post){const n=new F.e([],new H.y(e.post));d.push(n)}if(void 0!==e.email){const n=new I.o([new L.l(new H.y("work"),"emailproperty")],new H.y(e.email));d.push(n)}if(void 0!==e.phones){const n=e.phones.map((e=>new K.F([new L.l(new P.p([new H.y("WORK")]),"telproperty"),new B.B(new N.F(2))],new H.y(e))));d.push(...n)}if(void 0!==e.addresses){const n=e.addresses.map((e=>{const n=new Array(7);return n[1]=new H.y(e),new R.J([new L.l(new H.y("work"),"adrproperty")],new z.t(n,"adrproperty"))}));d.push(...n)}return new Y.F(d).repr()}({firstname:n,name:a,middleName:t,post:e.post.length>0?e.post:void 0,phones:l,addresses:s})})),a=(0,C.iH)(null);async function t(){const e=n.value.replace("VERSION:4.0","VERSION:3.0");a.value=await E.toDataURL(e,{width:1e3,margin:0,type:"image/png",errorCorrectionLevel:"low",color:{dark:"#403E4B"}})}const s=function(e,n){let a;return(...t)=>{clearTimeout(a),a=setTimeout((()=>{e(...t)}),n)}}(t,1e3);function o(e){throw new Error(e)}return(0,l.YP)(n,(()=>{a.value=null,s()})),(0,l.YP)(e.addresses,(n=>{!function(n){const a=n.filter((e=>e.length>0));a.push(""),e.addresses.length!==a.length&&a.length<3&&e.addresses.splice(0,e.addresses.length,...a)}(n)})),(0,l.YP)(e.phones,(n=>{!function(n){const a=n.filter((e=>e.phone.length>0));a.push({phone:"",extension:""}),e.phones.length!==a.length&&a.length<3&&e.phones.splice(0,e.phones.length,...a)}(n)})),(0,l.bv)((()=>{t().then()})),{...(0,C.BK)(e),vCard:n,svg:a,print:function(){a.value&&function(){try{const n="^[А-ЯA-Z][a-zа-яёйъ-]{1,100}$",{fio:{firstname:a,middleName:t,name:l},post:s,email:i,addresses:r,phones:c}=e;return!a||a.length<=2?o("Отсутствует фамилия"):new RegExp(n).test(a)||o("Недопустимый формат фамилии"),!l||l.length<=2?o("Отсутствует имя"):new RegExp(n).test(l)||o("Недопустимый формат имени"),t&&t.length>=0&&(new RegExp(n).test(t)||o("Недопустимый формат отчества")),(!s||s.length<=3)&&o("Недопустимый формат должности"),(i||i.length>0)&&(/^\S*@\S*$/.exec(i)||o("Недопустимый формат email")),r.forEach(((e,n)=>{e.length>0&&(/^(г\.\s(?<sity>[А-яа-яёйъ\s-]+),\s(?<street>[А-яA-zА-Яа-яёйъ0-9- .]+),\s(?<house>[А-яA-zА-Яа-яёйъ0-9- ./,]+))$/.exec(e)||o(`Недопустимый формат адреса №${n+1}`))})),c.forEach((({phone:e,extension:n},a)=>{e.length>0&&(/^(\+7|8)\s\([0-9]{3}\)\s[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(e)?n.length>0&&(/^[0-9]{1,5}$/.exec(n)||o(`Недопустимый формат добавочного номера #${a+1}`)):o(`Недопустимый формат номера телефона #${a+1}`))})),!0}catch(e){return S().fire({icon:"error",text:e.message,timer:2e3,timerProgressBar:!0,showCloseButton:!1,showConfirmButton:!1}),!1}}()&&(window.localStorage&&window.localStorage.setItem("business-card",JSON.stringify(e)),window.print())}}}}),oe=(0,Q.Z)(se,[["render",function(e,n){const a=(0,l.up)("textarea-autosize"),o=(0,l.up)("text-field-autosize"),i=(0,l.up)("service-worker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[r,(0,l._)("form",{class:"business-card",onSubmit:n[5]||(n[5]=(...n)=>e.print&&e.print(...n))},[(0,l._)("div",c,[(0,l._)("div",null,[(0,l._)("div",d,[(0,l._)("div",p,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.fio.firstname=n),pattern:"([А-ЯA-Z])[a-za-яёйъ-]{1,100}",required:"",placeholder:"Фамилия",name:"business-card-firstname",autocomplete:"business-card-firstname",class:(0,s.C_)({"no-print":e.fio.firstname.length<1})},null,2),[[t.nr,e.fio.firstname]]),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":n[1]||(n[1]=n=>e.fio.name=n),pattern:"([А-ЯA-Z])[a-za-яёйъ-]{1,100}",placeholder:"Имя",name:"business-card-name",autocomplete:"business-card-name",class:(0,s.C_)({"no-print":e.fio.name.length<1})},null,2),[[t.nr,e.fio.name]]),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":n[2]||(n[2]=n=>e.fio.middleName=n),pattern:"([А-ЯA-Z])[a-za-яёйъ-]{1,100}",placeholder:"Отчество",name:"business-card-middle-name",autocomplete:"business-card-middle-name",class:(0,s.C_)({"no-print":e.fio.middleName.length<1})},null,2),[[t.nr,e.fio.middleName]])]),(0,l._)("label",u,[m,(0,l.wy)((0,l._)("textarea",{id:"business-card-post","onUpdate:modelValue":n[3]||(n[3]=n=>e.post=n),class:(0,s.C_)({"no-print":e.post.length<1}),name:"business-card-post",autocomplete:"business-card-post",required:"",rows:"3",placeholder:"Должность"},null,2),[[t.nr,e.post]])])]),h]),(0,l._)("div",f,[(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.addresses.length,(n=>((0,l.wg)(),(0,l.iD)("div",{key:n},[(0,l.Wm)(a,{modelValue:e.addresses[n-1],"onUpdate:modelValue":a=>e.addresses[n-1]=a,class:(0,s.C_)([{"no-print":e.addresses[n-1].length<1},"contact-address"]),name:`business-card-address-${n}`,autocomplete:`business-card-address-${n}`,placeholder:`Адрес №${n}`},null,8,["modelValue","onUpdate:modelValue","class","name","autocomplete","placeholder"])])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.phones.length,(n=>((0,l.wg)(),(0,l.iD)("div",{key:n,class:(0,s.C_)({"no-print":e.phones[n-1].phone.length<1})},[(0,l._)("div",{class:(0,s.C_)(["contact-phone",{"no-print":e.phones[n-1].phone.length<1}])},[(0,l.Wm)(o,{modelValue:e.phones[n-1].phone,"onUpdate:modelValue":a=>e.phones[n-1].phone=a,class:"contact-phone",name:`business-card-phone-${n}`,autocomplete:`business-card-phone-${n}`,placeholder:`Телефон №${n}`,mask:{mask:[{mask:"{8} (000) 000-00-00"},{mask:"{+7} (000) 000-00-00"}]}},null,8,["modelValue","onUpdate:modelValue","name","autocomplete","placeholder","mask"]),(0,l._)("div",{class:(0,s.C_)({"no-print":e.phones[n-1].extension.length<1})},[b,(0,l.Wm)(o,{modelValue:e.phones[n-1].extension,"onUpdate:modelValue":a=>e.phones[n-1].extension=a,class:"contact-phone",name:`business-card-phone-extension-${n}`,autocomplete:`business-card-phone-extension-${n}`,placeholder:"000",mask:{mask:/^[0-9]{0,5}$/}},null,8,["modelValue","onUpdate:modelValue","name","autocomplete"]),w],2)],2)],2)))),128)),(0,l.Wm)(o,{modelValue:e.email,"onUpdate:modelValue":n[4]||(n[4]=n=>e.email=n),type:"email",class:(0,s.C_)(["contact-email",{"no-print":e.email.length<1}]),name:"business-card-email",autocomplete:"business-card-email",placeholder:"Электронная почта",mask:{mask:/^\S*@?\S*$/}},null,8,["modelValue","class"])]),g])]),v,(0,l._)("div",y,[(0,l._)("div",k,[e.svg?((0,l.wg)(),(0,l.iD)("img",{key:0,src:e.svg,alt:"qr"},null,8,x)):(0,l.kq)("v-if",!0)]),_])],32),(0,l._)("button",{disabled:!e.svg,class:"print no-print",onClick:n[6]||(n[6]=(...n)=>e.print&&e.print(...n))},"Скачать",8,V),(0,l.Wm)(i)],64)}]]);window.addEventListener("DOMContentLoaded",(()=>{(0,t.ri)(oe).mount("#app")})),window.addEventListener("keydown",(e=>{"p"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault()}))}},e=>{e.O(0,[736],(()=>{return n="2ef94f450b043d8e9375",e(e.s=n);var n}));e.O()}]);